<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Microservices</title>

	<meta name="generator" content="Slide Show (S9)">
	<meta name="author" content="Jacek Młynek">
	<meta name="viewport" content="width=1024, user-scalable=no">

	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="core/deck.core.css">
	<link rel="stylesheet" href="extensions/goto/deck.goto.css">
	<link rel="stylesheet" href="extensions/menu/deck.menu.css">
	<link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="extensions/status/deck.status.css">
	<link rel="stylesheet" href="extensions/hash/deck.hash.css">
	
	<!-- Theme CSS files (menu swaps these out) -->
	<link rel="stylesheet" id="style-theme-link" href="themes/style/web-2.0.css">
	<link rel="stylesheet" id="transition-theme-link" href="themes/transition/horizontal-slide.css">
	
	<!-- Custom CSS just for this page -->
	<!-- GB: changed fixed name to variable -->
	<link rel="stylesheet"  href="microservices.css">
	
	<script src="lib/modernizr.custom.js"></script>
</head>

<body class="deck-container">

<!--<div class="theme-menu">
	<h2>Themes</h2>
	
	<label for="style-themes">Style:</label>
	<select id="style-themes">
		<option selected value="themes/style/web-2.0.css">Web 2.0</option>
		<option value="themes/style/swiss.css">Swiss</option>
		<option value="themes/style/neon.css">Neon</option>
		<option value="">None</option>
	</select>
	
	<label for="transition-themes">Transition:</label>
	<select id="transition-themes">
		<option selected value="themes/transition/horizontal-slide.css">Horizontal Slide</option>
		<option value="themes/transition/vertical-slide.css">Vertical Slide</option>
		<option value="themes/transition/fade.css">Fade</option>
		<option value="">None</option>
	</select>
      </div> -->

<section class="slide" id="title-slide">
	<h1>Microservices</h1>
</section>

<!-- note: assumes no header (breaking slides w/ SLIDE directive) -->

  <section class="slide" id="2">
    <!-- === begin markdown block ===

      generated by markdown/1.2.0 on Ruby 1.9.3 (2014-02-24) [x86_64-linux]
                on 2015-06-21 23:51:03 +0200 with Markdown engine kramdown (1.7.0)
                  using options {}
  -->

<!-- _S9SLIDE_  -->

<h2 id="agenda">Agenda</h2>

<ul>
  <li>
    <h4 id="what-is-all-about">What is all about</h4>
  </li>
  <li>
    <h4 id="definition">Definition</h4>
  </li>
  <li>
    <h4 id="how--good-microservice-should-looks-like">How  good microservice should looks like</h4>
  </li>
  <li>
    <h4 id="benfits">Benfits</h4>
  </li>
  <li>
    <h4 id="common-pitfals">Common Pitfals</h4>
  </li>
  <li>
    <h4 id="deployemnt">Deployemnt</h4>
  </li>
  <li>
    <h4 id="who-alread-invested-in-microservices">Who alread invested in Microservices?</h4>
  </li>
</ul>


  </section>

  <section class="slide" id="3">
    <!-- _S9SLIDE_  -->

<h2 id="microservices-buzzing">Microservices Buzzing</h2>

<pre><code>Buzzwords are first sign of professional support! 
</code></pre>

<p><img src="./img/buzzy_micro _v2.jpg" alt="Microservices" title="Microservices" /></p>


  </section>

  <section class="slide" id="4">
    <!-- _S9SLIDE_  -->

<h2 id="dont-trust-definitions">Don’t Trust Definitions</h2>

<blockquote>
  <p>Definition is easy to remember, easy to share and too easy to interpret in wrong way.</p>

  <p>~ Me - some time ago</p>
</blockquote>



  </section>

  <section class="slide" id="5">
    <!-- _S9SLIDE_ -->
<h1 id="evolution---idea-behind-micro-world">Evolution - Idea Behind Micro World</h1>


  </section>

  <section class="slide" id="6">
    <!-- _S9SLIDE_  -->

<h2 id="evolution-from-proceduar-to-object-oriented">Evolution From Proceduar To Object Oriented</h2>

<p><img src="./img/cobal.jpg" alt="Procedular vs Objects" title="Procedulars To Object Oriented" /></p>


  </section>

  <section class="slide" id="7">
    <!-- _S9SLIDE_  -->

<h2 id="evolution-from-nested-inheritance-to-composition">Evolution From Nested Inheritance To Composition</h2>

<p><img src="./img/inheritance.jpg" alt="Composition vs Inheritance" title="Composition vs Inheritance" /></p>


  </section>

  <section class="slide" id="8">
    <!-- _S9SLIDE_  -->

<h2 id="evolution-from-three-layers-to-many">Evolution From Three Layers To Many</h2>

<p><img src="./img/onion_vs_3layers.jpg" alt="Onion architecture" title="Onion Architecture" /></p>


  </section>

  <section class="slide" id="9">
    <!-- _S9SLIDE_  -->

<h2 id="evolution-from-monolith-applicatio-to-">Evolution From Monolith Applicatio To …</h2>

<p><img src="./img/evolution_question_mark.jpg" alt="Evolution" title="Evolution" /></p>



  </section>

  <section class="slide" id="10">
    <!-- _S9SLIDE_ -->
<h1 id="what-is-the-common-motivation-behind">What Is The Common Motivation Behind?</h1>



  </section>

  <section class="slide" id="11">
    <!-- _S9SLIDE_ -->
<h1 id="maintainability---add-a-feature-without-breaking-others">Maintainability - add a feature without breaking others</h1>



  </section>

  <section class="slide" id="12">
    <!-- _S9SLIDE_ -->
<h1 id="how-to-write-high-maintainable-code">How To Write High Maintainable Code?</h1>



  </section>

  <section class="slide" id="13">
    <!-- _S9SLIDE_ -->
<h1 id="modularity">Modularity</h1>


  </section>

  <section class="slide" id="14">
    <!-- _S9SLIDE_  -->

<h2 id="unix---the-most-modular-system">Unix - The Most Modular System</h2>

<blockquote>
  <p>This is the Unix philosophy: Write programs that do one thing and do it well. Write programs to work together. Write programs to handle text streams, because that is a universal interface</p>

  <p>~ Douglas McIlroy</p>
</blockquote>



  </section>

  <section class="slide" id="15">
    <!-- _S9SLIDE_ -->
<h1 id="ls--grep-microserices">ls | grep “microserices”</h1>


  </section>

  <section class="slide" id="16">
    <!-- _S9SLIDE_  -->

<h2 id="evolution-from-monolithic-layered-application-to-microservices">Evolution From Monolithic Layered Application To Microservices</h2>

<p><img src="./img/mono_to_micro.jpg" alt="Evolution microservices" title="Evolution Microservices" /></p>



  </section>

  <section class="slide" id="17">
    <!-- _S9SLIDE_ -->
<h1 id="microservices-are-small-autonomus-services-that-work-together">Microservices are small autonomus services that work together.</h1>



  </section>

  <section class="slide" id="18">
    <!-- _S9SLIDE_ -->
<h1 id="how-microservice-should-looks-like">How Microservice should looks like</h1>


  </section>

  <section class="slide" id="19">
    <!-- _S9SLIDE_  -->

<h2 id="how-small-is-micro">How Small is Micro</h2>

<pre><code>Someone from ThoughtWorks said that it should not be bigger that his head
</code></pre>

<p>.</p>

<pre><code>Another claims that it should not have more than 1000 lines of code
</code></pre>

<p>.</p>

<pre><code>Thing about the team structure. If code is to big to maitenance by small team trying to split it can be good move.
</code></pre>

<p>.</p>

<pre><code>Something which could be rewritten in two weeks
</code></pre>


  </section>

  <section class="slide" id="20">
    <!-- _S9SLIDE_  -->

<h2 id="autonomus-in-context-of-services">Autonomus In Context of Services</h2>

<ul>
  <li>
    <h4 id="one-microservices-onto-one-machine-althought-machine-is-a-trick-word-today">One microservices onto one machine althought machine is a trick word today.</h4>
    <ul>
      <li>overhead</li>
      <li>easier to manage problems easier to distributed if we have infrastructure for that</li>
    </ul>
  </li>
  <li>
    <h4 id="all-comunication-between-services-via-network">All comunication between services via network:</h4>
    <ul>
      <li>like in TDD let us desgin form inside to ouside</li>
      <li>enforce separation</li>
    </ul>
  </li>
  <li>
    <h4 id="change-independly-deployed-independly-without-affectic-its-clinets">Change independly, deployed independly without affectic its clinets</h4>
  </li>
  <li>
    <h4 id="public-interface-as-api-and-all-services-comunicate-with-each-others-via-thoes-apis">Public interface as API and all services comunicate with each others via thoes APIs</h4>
  </li>
</ul>



  </section>

  <section class="slide" id="21">
    <!-- _S9SLIDE_ -->
<h1 id="benefits">Benefits</h1>


  </section>

  <section class="slide" id="22">
    <!-- _S9SLIDE_  TODO  -->

<h2 id="chery-pick-deployemnt">Chery pick deployemnt.</h2>

<pre><code>Deploying things that has changed instead of whole system, reduce a risk that we introduce new bugs to PROD.
</code></pre>


  </section>

  <section class="slide" id="23">
    <!-- _S9SLIDE_  -->

<h2 id="scaling">Scaling</h2>

<pre><code>Scaling smaller parts of whole system not just whole system. 
 
  
In most cases you dosen't need to have perfocmance constrains on whole system. Just some parts need more powerfull hardware.
</code></pre>


  </section>

  <section class="slide" id="24">
    <!-- _S9SLIDE_  -->

<h2 id="look-at-future-without-a-fear">Look At Future Without A Fear!</h2>

<h3 id="how-many-times-you-decide-to-change-architecture-behind-your-system">How many times you decide to change architecture behind your system?</h3>

<h3 id="how-many-times-you-decide-to-rewritte-or-refactor-your-codebase">How many times you decide to rewritte or refactor your codebase?</h3>

<h3 id="if-not-often-or-not-at-all-you-are-propably-aftraid-of">If not often or not at all, you are propably aftraid of:</h3>
<ul>
  <li>it will takes you ages</li>
  <li>it takes a lot of money</li>
  <li>it is too riski, can itroduce a lot of bugs</li>
</ul>

<p>.</p>

<pre><code>Samll idepended head of controls takes it from you. Now you can change one part of you system or even completle rewritte without so much fear.
</code></pre>


  </section>

  <section class="slide" id="25">
    <!-- _S9SLIDE_  -->

<h2 id="power-of-flexibility">Power of flexibility</h2>

<pre><code>The same standarts are must have. Without it is hard to imagin any kind of communication. 
</code></pre>

<p>.</p>

<pre><code>Differences is what make things special and powerful.
</code></pre>

<p>.</p>

<pre><code>Microservices communicate using well defined protocols and API as public interfaces. However because they are head of controls tehy can be write in any technology you want. This allow you to pick right tools for problem.
</code></pre>


  </section>

  <section class="slide" id="26">
    <!-- _S9SLIDE_  -->

<h2 id="improve-team-organization">Improve team organization</h2>

<pre><code>When you have small code base, you can minimalize number of peopel working on them.
</code></pre>

<p>.</p>

<pre><code>Samller team are more productive
</code></pre>


  </section>

  <section class="slide" id="27">
    <!-- _S9SLIDE_  -->

<h2 id="reusability">Reusability</h2>

<pre><code>If you have clear API as public interface of your services and well know communication protocol, your internal parts can be much more easier to reause compering to big monolith system. 
</code></pre>

<p>.</p>

<pre><code>Right now when IoT is big buzzing world you never now when your internals become public or when you eneble another chanel of distribution.
</code></pre>



  </section>

  <section class="slide" id="28">
    <!-- _S9SLIDE_ -->
<h1 id="pitfalls-be-careful">Pitfalls be careful</h1>



  </section>

  <section class="slide" id="29">
    <!-- _S9SLIDE_ -->
<h1 id="slicing">Slicing</h1>


  </section>

  <section class="slide" id="30">
    <!-- _S9SLIDE_  -->

<h2 id="slicing---problem-definitions">Slicing - Problem Definitions</h2>

<pre><code>Slicing by technical boundary is horizontal. In many cases when you will change some thing in front you will have to change it also in back. One change two service to deployed
</code></pre>


  </section>

  <section class="slide" id="31">
    <!-- _S9SLIDE_   -->

<h2 id="slicing---solution">Slicing - Solution</h2>

<h3 id="bounded-context-is-a-king">Bounded context is a King!</h3>

<blockquote>
  <p>A Bounded Context is an explicit boundary within which a domain model exists. Inside the boundary all terms and phrases of the Ubiquitous Language have specific meaning, and the model reflects the Language with exactness.</p>

</blockquote>

<p><img src="./img/implementing_ddd.jpg" alt="Implementing DDD" title="Implementing DDD" /></p>



  </section>

  <section class="slide" id="32">
    <!-- _S9SLIDE_ -->
<h1 id="spiders">Spiders</h1>


  </section>

  <section class="slide" id="33">
    <!-- _S9SLIDE_  -->

<h2 id="spiders---problem-definition">Spiders - Problem definition</h2>

<p><img src="./img/spiders_problem.jpg" alt="Spiders problem" title="Spiders problem" /></p>


  </section>

  <section class="slide" id="34">
    <!-- _S9SLIDE_  -->

<h2 id="spliders---solution">Spliders - Solution</h2>

<pre><code>Split you spider so just your composition root will know all parts 
</code></pre>



  </section>

  <section class="slide" id="35">
    <!-- _S9SLIDE_ -->
<h1 id="communication-based-on-shared">Communication Based on Shared.</h1>


  </section>

  <section class="slide" id="36">
    <!-- _S9SLIDE_  -->

<h2 id="problem-definition">Problem Definition</h2>

<h3 id="first-is-exposing-your-internal-structure">First is exposing your internal structure</h3>

<pre><code>It is risky because accross bounded context mining of model can change. Acccount in Ordering service is somthing diffrent that Account in User service.
</code></pre>

<h3 id="second-set-up-communication-base-on-serialized-shared-libraries">Second Set up communication base on serialized shared libraries</h3>

<pre><code>Imagin that you have changed version of your shared library. It will broke your service communication? Good example can be a WSDL-binding.  .
</code></pre>


  </section>

  <section class="slide" id="37">
    <!-- _S9SLIDE_  -->

<h2 id="solutions">Solutions</h2>

<blockquote>
  <p>Be conservative in what you do, be liberal in what you expect</p>

  <p>Postel’s law</p>
</blockquote>

<ul>
  <li>
    <h4 id="distinquish-between-external-and-internal-representation">Distinquish between external and internal representation</h4>
  </li>
  <li>
    <h4 id="expose-just-minimum">Expose just minimum</h4>
  </li>
  <li>
    <h4 id="model-interpretation-should-be-internal-aspect">Model interpretation should be internal aspect.</h4>
  </li>
  <li>
    <h4 id="dont-use-wsdl-use-xpath">Don’t use WSDL use XPath</h4>
  </li>
</ul>



  </section>

  <section class="slide" id="38">
    <!-- _S9SLIDE_ -->
<h1 id="shared-database">Shared Database</h1>


  </section>

  <section class="slide" id="39">
    <!-- _S9SLIDE_   -->

<h2 id="problem">Problem</h2>

<pre><code>Two services are wrting and reading to the same table. Every time i change service A i can want to change DB. How i can know the impact on service B?
</code></pre>

<p>.</p>

<pre><code>It is not easy definetly worth additional hours
</code></pre>

<p><img src="./img/refactoring_your_database.jpg" alt="Refactoring your database" title="Refactoring your database" /></p>

<h2 id="solutions-1">Solutions</h2>

<pre><code>Each service should owns its own data
</code></pre>

<h3 id="split-db-create-two-scheams-it-still-can-be-the-same-db-instance">Split db, create two scheams. It still can be the same db instance.</h3>
<p>### Hide db behind one of this servises and make all db operation throught it.
### I found out CQRS pattern to be very helpful in this case.</p>



  </section>

  <section class="slide" id="40">
    <!-- _S9SLIDE_ -->
<h1 id="breaking-changes">Breaking changes</h1>

<h2 id="problem-1">Problem</h2>

<pre><code>No matter how much you try you can introduce Breaking Chance!
You should adopte some mechanisms which can at least warn you. 
</code></pre>

<h2 id="solution">Solution</h2>

<h3 id="two-thing-which-can-be-helpful">Two thing which can be helpful:</h3>
<ul>
  <li>
    <h4 id="consumer-driven-contract">Consumer Driven Contract</h4>
  </li>
  <li>
    <h4 id="distinguish-between-deploying-thing-and-releasing-it">Distinguish between deploying thing and releasing it.</h4>
  </li>
</ul>

<h2 id="solution---consumer-driven-contract">Solution - Consumer Driven Contract</h2>

<p><img src="./img/consumer_driven_contract.jpg" alt="Consumer driven contract" title="Consumer driven contract" /></p>

<h2 id="solution-deployment--releasing">Solution Deployment != Releasing</h2>

<p><img src="./img/relase_it.jpg" alt="Release it" title="Release it" /></p>



  </section>

  <section class="slide" id="41">
    <!-- _S9SLIDE_ -->
<h1 id="performance-issue">Performance Issue</h1>


  </section>

  <section class="slide" id="42">
    <!-- _S9SLIDE_  -->

<h2 id="problem-2">Problem</h2>


  </section>

  <section class="slide" id="43">
    <!-- _S9SLIDE_  -->

<h2 id="solution-1">Solution</h2>


  </section>

  <section class="slide" id="44">
    <!-- _S9SLIDE_  -->

<h2 id="recap-what-we-have-already-known">Recap What We Have Already Known</h2>

<ul>
  <li>
    <h4 id="microservice-should-be-small">Microservice should be small</h4>
  </li>
  <li>
    <h4 id="we-know-that-bunded-context-is-very-useful-in-case-of-slicing-choesion-and-lose-couple-services">We know that bunded context is very useful in case of slicing choesion and lose couple services!</h4>
  </li>
  <li>
    <h4 id="microsevice-should-be-deployed-independly">Microsevice should be deployed independly</h4>
  </li>
  <li>
    <h4 id="one-microservice-onto-one-machine">One microservice onto one machine</h4>
  </li>
</ul>



  </section>

  <section class="slide" id="45">
    <!-- _S9SLIDE_ -->
<h1 id="continus-deployment-tools">Continus Deployment Tools</h1>


  </section>

  <section class="slide" id="46">
    <!-- _S9SLIDE_  -->

<!-- begin left {} -->
<table width="100%"><tr><td width="50%" style="vertical-align: top;">

      <h2 id="provisioning">Provisioning</h2>

      <ul>
        <li>
          <h3 id="puppet">Puppet</h3>
        </li>
        <li>
          <h3 id="chef">Chef</h3>
        </li>
        <li>
          <h3 id="ansible">Ansible</h3>
        </li>
      </ul>

    </td>
<!-- end left -->






<!-- begin right {} -->
<td width="50%" style="vertical-align: top;">

      <h2 id="virtualization">Virtualization</h2>

      <ul>
        <li>
          <h3 id="aws">AWS</h3>
        </li>
        <li>
          <h3 id="vagrant">Vagrant</h3>
        </li>
        <li>
          <h3 id="vmware">VMWare</h3>
        </li>
        <li>
          <h3 id="openstack">OpenStack</h3>
        </li>
      </ul>

    </td></tr></table>
<!-- end right -->

<h2 id="connector">Connector</h2>

<ul>
  <li>
    <h3 id="packer">Packer</h3>
  </li>
</ul>


  </section>

  <section class="slide" id="47">
    <!-- _S9SLIDE_  -->

<h2 id="benefits-1">Benefits</h2>

<ul>
  <li>
    <h3 id="immutable-servers---we-store-all-configuratio-in-source-controle">Immutable servers - we store all configuratio in source controle</h3>
  </li>
  <li>
    <h3 id="reproduce-prod">Reproduce PROD</h3>
  </li>
  <li>
    <h3 id="it-give-us-power-to-handle-failures">It give us power to handle failures.</h3>
  </li>
  <li>
    <h3 id="fast-machine-start-up">Fast machine start up.</h3>
  </li>
</ul>


  </section>

  <section class="slide" id="48">
    <!-- _S9SLIDE_  -->

<h2 id="drawbacks">Drawbacks</h2>

<ul>
  <li>
    <h3 id="build-images-can-take-long-time-especially-for-the-firs-time">Build images can take long time especially for the firs time</h3>
  </li>
  <li>
    <h3 id="some-of-the-images-can-be-large">Some of the images can be large</h3>
  </li>
</ul>


  </section>

  <section class="slide" id="49">
    <!-- _S9SLIDE_  -->

<h2 id="docker-container-example">Docker, Container Example</h2>

<p><img src="./img/docker_vs_vmware.jpg" alt="Docker vs VMWare" title="Docker vs VMWare" /></p>


  </section>

  <section class="slide" id="50">
    <!-- _S9SLIDE_  -->

<h2 id="who-already-invested-in-micro-world">Who Already Invested in Micro World</h2>

<p><img src="./img/invest_in_micro.jpg" alt="Invest in Micro" title="Invest In Micro" /></p>



  </section>

  <section class="slide" id="51">
    <!-- _S9SLIDE_ -->
<h1 id="golden-rule">Golden Rule</h1>


  </section>

  <section class="slide" id="52">
    <!-- _S9SLIDE_  -->

<blockquote>
  <p>The golden rule: you make a change to a service and deploy it without changing anything else.</p>

  <p>~ Sam Newman</p>
</blockquote>

<p><img src="./img/building_microservices.jpg" alt="Building Microservices" title="Building Microservices" /></p>



  </section>

  <section class="slide" id="53">
    <!-- _S9SLIDE_ -->
<h1 id="thank-you">Thank You!</h1>

<!-- === end markdown block === -->

  </section>



<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<form action="." method="get" class="goto-form">
	<label for="goto-slide">Go to slide:</label>
	<input type="number" name="slidenum" id="goto-slide">
	<input type="submit" value="Go">
</form>

<a href="." title="Permalink to this slide" class="deck-permalink">#</a>


  <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="lib/jquery-1.6.4.min.js"><\/script>')</script>

<!-- Deck Core and extensions -->
<script src="core/deck.core.js"></script>
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/hash/deck.hash.js"></script>

<!-- Specific to this page -->
<!-- GB: adding introduction.js inline -->
<script>
$(function() {
	// Deck initialization
	$.deck('.slide');
	
	$('#style-themes').change(function() {
		$('#style-theme-link').attr('href', $(this).val());
	});
	
	$('#transition-themes').change(function() {
		$('#transition-theme-link').attr('href', $(this).val());
	});
});


</script>

</body>
</html>
