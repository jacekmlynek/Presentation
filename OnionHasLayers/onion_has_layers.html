<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
    <!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
        <!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
            <!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
                <head>
                    <meta charset="utf-8">
                    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

                    <title>Onion has layers</title>

                    <meta name="author" content="Michał Zając, Jacek Młynek">
                    <meta name="viewport" content="width=1024, user-scalable=no">

                    <!-- Core and extension CSS files -->
                    <link rel="stylesheet" href="core/deck.core.css">
                    <link rel="stylesheet" href="extensions/goto/deck.goto.css">
                    <link rel="stylesheet" href="extensions/menu/deck.menu.css">
                    <link rel="stylesheet" href="extensions/navigation/deck.navigation.css">
                    <link rel="stylesheet" href="extensions/status/deck.status.css">
                    <link rel="stylesheet" href="extensions/hash/deck.hash.css">
                    <link rel="stylesheet" href="extensions/codemirror/deck.codemirror.css">
                    <link rel="stylesheet" href="extensions/codemirror/themes/default.css">


                    <!-- Theme CSS files (menu swaps these out) -->
                    <link rel="stylesheet" id="style-theme-link" href="themes/style/web-2.0.css">
                    <link rel="stylesheet" id="transition-theme-link" href="themes/transition/horizontal-slide.css">

                    <!-- Custom CSS just for this page -->
                    <!-- GB: changed fixed name to variable -->
                    <link rel="stylesheet"  href="onion_has_layers.css">

                    <script src="lib/modernizr.custom.js"></script>
                </head>

                <body class="deck-container">

                   <!-- <div class="theme-menu">
                        <h2>Themes</h2>

                        <label for="style-themes">Style:</label>
                        <select id="style-themes">
                            <option selected value="themes/style/web-2.0.css">Web 2.0</option>
                            <option value="themes/style/swiss.css">Swiss</option>
                            <option value="themes/style/neon.css">Neon</option>
                            <option value="">None</option>
                        </select>

                        <label for="transition-themes">Transition:</label>
                        <select id="transition-themes">
                            <option selected value="themes/transition/horizontal-slide.css">Horizontal Slide</option>
                            <option value="themes/transition/vertical-slide.css">Vertical Slide</option>
                            <option value="themes/transition/fade.css">Fade</option>
                            <option value="">None</option>
                        </select>
                      </div> -->

                    <section class="slide" id="title-slide">
                    <h1>Onion has layers</h1>
                    </section>

                    <!-- note: assumes no header (breaking slides w/ SLIDE directive) -->
                    
                        <section class="slide" id="2">
                        <!-- _S9SLIDE_  -->

<h2 id="ciekawostka---long-life-systems">Ciekawostka - long life systems.</h2>

<pre><code>Czy wiecie że niektóre systemy żyją dłużej niż pół roku?
</code></pre>


                        </section>
                    
                        <section class="slide" id="3">
                        <!-- _S9SLIDE_  -->

<h2 id="nasza-aplikacja">Nasza aplikacja</h2>

<ul>
  <li>
    <h3 id="od-5-lat-nieprzerwanie-na-prd">Od 5 lat nieprzerwanie na PRD,</h3>
  </li>
  <li>
    <h3 id="podstawowy-booking-engine-dla-60-agencji-turystcznych">podstawowy booking engine dla 60 agencji turystcznych,</h3>
  </li>
  <li>
    <h3 id="linii-produkcyjnego-kodu-w-c">44,000 linii produkcyjnego kodu w <em>C#</em>,</h3>
  </li>
  <li>
    <h3 id="linii-produkcyjnego-kodu-w-javascript">18,000 linii produkcyjnego kodu w <em>Javascript</em>,</h3>
  </li>
  <li>
    <h3 id="testow">1,200 testow,</h3>
  </li>
  <li>
    <h3 id="releasow">40 releasow,</h3>
  </li>
  <li>
    <h3 id="integruje-okoo-4-wewntrznych-i-6-zewntrznych-podsystemw">integruje około 4 wewnętrznych i 6 zewnętrznych podsystemów.</h3>
  </li>
</ul>


                        </section>
                    
                        <section class="slide" id="4">
                        <!-- _S9SLIDE_  -->

<h2 id="pamitacie-boba">Pamiętacie Boba?</h2>

<p><img src="./img/bob.png" alt="Bob budowniczy" title="Bob budowniczy" /></p>


                        </section>
                    
                        <section class="slide" id="5">
                        <!-- _S9SLIDE_  -->

<h2 id="architektura-ewoluuje">Architektura ewoluuje</h2>

<pre><code>Dobra architektura to nie tylko dobry projekt. Dobry projekt to dopiero początek o architekturze trzba myśleć cały czas.
</code></pre>

<p><img src="./img/systematicly_work.jpg" alt="Systematic work" title="Systematic work" /></p>


                        </section>
                    
                        <section class="slide" id="6">
                        <!-- _S9SLIDE_  -->

<h2 id="architektura-ewoluuje-1">Architektura ewoluuje</h2>

<pre><code>Dobry system można łatwo zepsuć.
</code></pre>

<p><img src="./img/SOLID_Jenga.jpg" alt="Jenga" title="Jenga" /></p>


                        </section>
                    
                        <section class="slide" id="7">
                        <!-- _S9SLIDE_  -->

<h2 id="architektura-ewoluuje-2">Architektura ewoluuje</h2>

<pre><code>Słaby system można przywrócić do życia.
</code></pre>

<p><img src="./img/correct_system.jpg" alt="Correct system" title="Correct system" /></p>


                        </section>
                    
                        <section class="slide" id="8">
                        <!-- _S9SLIDE_  -->

<h2 id="co-zastalimy">Co zastaliśmy.</h2>

<ul>
  <li>
    <h4 id="najbliej-do-transaction-script-pattern">najbliżej do transaction script pattern,</h4>
  </li>
  <li>
    <h4 id="brak-separacji-logiki-i-infrastruktury">brak separacji logiki i infrastruktury,</h4>
  </li>
  <li>
    <h4 id="brak-wiadomego-zarzdzania-zalenociami">brak świadomego zarządzania zależnościami,</h4>
  </li>
  <li>
    <h4 id="dua-ilo-duplikacji-kodu">duża ilość duplikacji kodu,</h4>
  </li>
  <li>
    <h4 id="javascript-ktrego-kady-si-ba-jeden-wielki-antypattern">javascript, którego każdy się bał (jeden wielki antypattern),</h4>
  </li>
</ul>

<h3 id="jednym-zdaniem">Jednym zdaniem</h3>
<pre><code>Kruchość + brak testów = katastrofa!
</code></pre>


                        </section>
                    
                        <section class="slide" id="9">
                        <!-- _S9SLIDE_  -->

<h2 id="co-nas-skonio-do-zmian">Co Nas skłoniło do zmian.</h2>

<ul>
  <li>
    <h4 id="bardzo-niska-niezawodno-systemu">Bardzo niska niezawodność systemu.</h4>
    <p>Issue list potrafiła osiągać kilkaset pozycji w miesiącu.</p>
  </li>
  <li>
    <h4 id="bardzo-dlugo-trwajce-update-na-prd">Bardzo dlugo trwające update na PRD.</h4>
    <p>Niekiedy nawet cały dzień :), bez powodzenia.    </p>
  </li>
  <li>
    <h4 id="brak-jakichkolwiek-buildw">Brak jakichkolwiek buildów</h4>
    <p>Systemu nikt nie potrafi uruchomić</p>
  </li>
  <li>
    <h4 id="perspektywa-paru-lat-utrzymania">Perspektywa paru lat utrzymania.</h4>
    <p>System przypominał maratończyka po maratonie kiedy ciągle miał sporo trasy przed sobą.</p>
  </li>
  <li>
    <h4 id="potrzeba-ciglej-rozbudowy">Potrzeba ciąglej rozbudowy.</h4>
    <p>Ciągle pojawiały się nowe requesty od klienta i nowi klienci.</p>
  </li>
</ul>


                        </section>
                    
                        <section class="slide" id="10">
                        <!-- _S9SLIDE_  -->

<h2 id="pierwsze-kroki">Pierwsze kroki.</h2>

<ul>
  <li>
    <h3 id="pierwsze-testy-jednostkowe">pierwsze testy jednostkowe,</h3>
  </li>
  <li>
    <h3 id="sprztanie-nieuywanego-kodu">sprzątanie nieużywanego kodu,</h3>
  </li>
  <li>
    <h3 id="eliminacja-duplikatw">eliminacja duplikatów,</h3>
  </li>
  <li>
    <h3 id="grupowanie-powizanych-zagadnie">grupowanie powiązanych zagadnień,</h3>
  </li>
  <li>
    <h3 id="wiadome-prby-izolacji-separacji">świadome próby izolacji, separacji,</h3>
  </li>
  <li>
    <h3 id="pierwszy-konatak-z-istniejcymi-javscriptami">pierwszy konatak z istniejącymi javscript’ami.</h3>
  </li>
</ul>


                        </section>
                    
                        <section class="slide" id="11">
                        <!-- _S9SLIDE_  -->

<h2 id="rzeczy-nabieraj-waciwych-ksztatw">Rzeczy nabierają właściwych kształtów.</h2>

<p><img src="./img/system_puzzle.jpg" alt="System puzzle" title="System puzzle" /></p>


                        </section>
                    
                        <section class="slide" id="12">
                        <!-- _S9SLIDE_   -->

<h2 id="composite-i-mvp-pattern-w-javascript">Composite i MVP pattern w Javascript.</h2>

<p><img src="./img/js_modules.jpg" alt="Js modules" /></p>


                        </section>
                    
                        <section class="slide" id="13">
                        <!-- _S9SLIDE_  -->

<h2 id="composite-i-mvp-pattern-w-javascript-1">Composite i MVP pattern w Javascript.</h2>

<h3 id="kady-element-html-moe-by-czci-wikszej-cao---doskonay-przykad-na-composite-pattern">Każdy element HTML może być częścią większej całość - doskonały przykład na composite pattern.</h3>

<h3 id="kady-element-peni-zarazem-odmienn-funkcj-a-jenocznie-zbudowany-jest-podobnych-czci">Każdy element pełni zarazem odmienną funkcję a jenoczśnie zbudowany jest podobnych części:</h3>
<ul>
  <li>mamy część odpowiedzialną za HTML - View,</li>
  <li>mamy część odpowiedzialną za dane - Model,</li>
  <li>mamy część za logike UI - Presenter.
Przyczym dość ważne jest aby że Model nic nie wiem o Presenterze i View.</li>
</ul>

<h3 id="kady-element-moe-istnie-niezalenie">Każdy element może istnieć niezależnie.</h3>


                        </section>
                    
                        <section class="slide" id="14">
                        <!-- _S9SLIDE_  -->

<h2 id="loosly-coopling--dependency-injection">Loosly Coopling &amp; Dependency Injection</h2>
<ul>
  <li>testy jednostkowe mocno wyartykuowały odwieczną potrzebę systemu</li>
  <li>centralny punkt zarządzania zeleżnościami - niekoniecznie framework DI</li>
  <li>mocny nacisk na separowanie się od <em>zewnętrznych</em> komponentów</li>
</ul>


                        </section>
                    
                        <section class="slide" id="15">
                        <!-- _S9SLIDE_  -->

<h2 id="domain-driven-design">Domain Driven Design</h2>
<ul>
  <li>większy nacisk na domenę niż infrastrukturę</li>
  <li>nie walczymy z rzeczywistością</li>
  <li>system zgodny z domeną łatwiej dostosowuje się do zmieniających wymagań </li>
</ul>


                        </section>
                    
                        <section class="slide" id="16">
                        <!-- _S9SLIDE_  -->

<h2 id="zaczyna-rysowa-si-architektura">Zaczyna rysować się architektura</h2>
<ul>
  <li>zastasowane wzorce i praktyki zaczęły formowac całościową architekturę systemu</li>
  <li>dodatkowo w warstwie front-end pojawiają się kolejne czynniki
    <ul>
      <li>szybki rozwój i zmiany używanych bibliotek</li>
      <li>globalna zmiana podejścia do javascriptów i wypracowywanie coraz lepszy wzorców</li>
      <li>request od klientów</li>
      <li>dotychczasowy model MVP robi się za mały - pojawiają się nowe warstwy</li>
    </ul>
  </li>
</ul>


                        </section>
                    
                        <section class="slide" id="17">
                        <!-- _S9SLIDE_  -->

<h2 id="gdzie-jestemy">Gdzie jesteśmy</h2>

<p><img src="./img/onion_layers.jpg" alt="Generic onion" title="Generic onion" /></p>


                        </section>
                    
                        <section class="slide" id="18">
                        <!-- _S9SLIDE_  -->

<h2 id="cebula-o-smaku-backendu">Cebula o smaku backendu.</h2>

<p><img src="./img/BackendOnion.jpg" alt="Cebula beckend" title="Backend Onion" /></p>


                        </section>
                    
                        <section class="slide" id="19">
                        <!-- _S9SLIDE_  -->

<h2 id="cebula-front-endowa">Cebula front-end’owa</h2>

<p><img src="./img/frontend_onion.jpg" alt="Cebula front-end'owa" title="Cebula front-end'owa" /></p>


                        </section>
                    
                        <section class="slide" id="20">
                        <!-- _S9SLIDE_  -->

<h2 id="bibliografia">Bibliografia</h2>


                        </section>
                    


                    <!--<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
                    <a href="#" class="deck-next-link" title="Next">&#8594;</a>
                    -->
                    <p class="deck-status">
                        <span class="deck-status-current"></span>
                        /
                        <span class="deck-status-total"></span>
                    </p>

                    <form action="." method="get" class="goto-form">
                        <label for="goto-slide">Go to slide:</label>
                        <input type="number" name="slidenum" id="goto-slide">
                        <input type="submit" value="Go">
                    </form>

                    <a href="." title="Permalink to this slide" class="deck-permalink">#</a>


                    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline -->
                    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
                    <script>window.jQuery || document.write('<script src="lib/jquery-1.6.4.min.js"><\/script>')</script>

                        <!-- Deck Core and extensions -->
                        <script src="core/deck.core.js"></script>
                        <script src="extensions/menu/deck.menu.js"></script>
                        <script src="extensions/goto/deck.goto.js"></script>
                        <script src="extensions/status/deck.status.js"></script>
                        <script src="extensions/navigation/deck.navigation.js"></script>
                        <script src="extensions/hash/deck.hash.js"></script>
                        <script src="extensions/codemirror/codemirror.js"></script>

                        <!-- include the code syntax you want to highlight -->
                        <!-- javascript -->
                        <script src="extensions/codemirror/mode/javascript/javascript.js"></script>
                        <script src="extensions/codemirror/mode/ruby/ruby.js"></script>

                        <!-- html mode : note code miror requires xml, css and javasript modes for html rendering -->
                        <script src="extensions/codemirror/mode/xml/xml.js"></script>
                        <script src="extensions/codemirror/mode/css/css.js"></script>
                        <script src="extensions/codemirror/mode/htmlmixed/htmlmixed.js"></script>

                        <script src="extensions/codemirror/deck.codemirror.js"></script>

                        <!-- Specific to this page -->
                        <!-- GB: adding introduction.js inline -->
                        <script>
                            $(function() {
                                // Deck initialization
                                $.deck('.slide');

                                $('#style-themes').change(function() {
                                    $('#style-theme-link').attr('href', $(this).val());
                                });

                                $('#transition-themes').change(function() {
                                    $('#transition-theme-link').attr('href', $(this).val());
                                });
                            });

                            
                        </script>

                    </body>
                </html>
